@{
    ViewBag.Title = "Confirmación de Factura";
    var jsonNombre = ViewBag.JsonNombre as string ?? "DTE.json";
    var pdfNombre = ViewBag.PdfNombre as string ?? "DTE.pdf";
}

<div class="factura-card mt-4">
    <div class="factura-header text-center">
        <img src="~/images/logo-digifactura.png" alt="Logo DigiFactura SV" width="60" class="mb-2" />
        <h4 class="mb-0">DigiFactura SV</h4>
        <small>Confirmación de Documento Tributario Electrónico</small>
    </div>

    <div class="mt-4">
        <h2 class="text-success">✅ Factura generada correctamente</h2>
        <p>Tu Documento Tributario Electrónico ha sido creado con éxito.</p>

        <div class="mt-3">
            <a href="@Url.Action("DescargarJson")" class="btn btn-primary">
                Descargar JSON (@jsonNombre)
            </a>
        </div>

        <div class="mt-2">
            <a href="@Url.Action("DescargarPDF")" class="btn btn-success" target="_blank">
                Ver/Descargar PDF (@pdfNombre)
            </a>
        </div>

        <hr class="mt-4" />

        <h4>Vista previa del JSON</h4>
        <pre style="background-color: #f8f8f8; padding: 10px; border: 1px solid #ccc; max-height: 400px; overflow-y: auto;">
@Html.Raw(ViewBag.JsonGenerado)
        </pre>
    </div>
</div>
